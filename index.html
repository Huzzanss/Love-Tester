<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Love Tester — Seberapa Sempurna Hubungan?</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1320;
      --accent:#ff6b81;
      --accent-2:#ff9aa2;
      --muted:#97a0b4;
      --glass:rgba(255,255,255,0.03);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(255,107,129,0.06), transparent 10%),
                  radial-gradient(900px 400px at 90% 90%, rgba(255,154,162,0.04), transparent 10%),
                  var(--bg);
      color:#e6eef8;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .card{
      width:100%;
      max-width:920px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:28px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
      display:grid;
      grid-template-columns:1fr 360px;
      gap:20px;
    }
    .header{
      grid-column:1/-1;
      display:flex;
      align-items:center;
      gap:16px;
    }
    .logo{
      width:56px;
      height:56px;
      border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:22px;
      color:white;
      box-shadow:0 6px 18px rgba(255,107,129,0.18);
    }
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    input[type="text"]{
      width:100%;
      padding:12px 14px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.04);
      background:var(--glass);
      color:inherit;
      outline:none;
      font-size:14px;
    }
    .btn{
      padding:11px 14px;
      border-radius:10px;
      border:0;
      cursor:pointer;
      font-weight:600;
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:white;
      box-shadow:0 8px 22px rgba(255,107,129,0.12);
    }
    .ghost{
      background:transparent;
      border:1px solid rgba(255,255,255,0.04);
      color:var(--muted);
      padding:10px 12px;
      border-radius:10px;
      cursor:pointer;
      font-weight:600;
    }
    .side{
      background: rgba(255,255,255,0.02);
      border-radius:12px;
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:12px;
      align-items:stretch;
      justify-content:flex-start;
    }
    .meter{
      height:16px;
      background:rgba(255,255,255,0.03);
      border-radius:12px;
      overflow:hidden;
    }
    .meter > i{
      display:block;
      height:100%;
      width:0%;
      transition:width 900ms cubic-bezier(.2,.9,.2,1);
      background:linear-gradient(90deg,#ff7b99,#ffb3c2);
      box-shadow:0 6px 18px rgba(255,107,129,0.12);
    }
    .percent{
      font-size:34px;
      font-weight:700;
    }
    .low{color:#ffb3b3}
    .mid{color:#ffd59a}
    .high{color:#b6ffda}
    footer.note{grid-column:1/-1;color:var(--muted);font-size:13px;padding-top:8px;text-align:center}
    canvas#confetti{
      position:fixed;
      top:0;
      left:0;
      width:100%;
      height:100%;
      pointer-events:none;
      z-index:10;
    }
    @media (max-width:840px){
      .card{grid-template-columns:1fr; padding:18px}
    }
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>
  <main class="card">
    <div class="header">
      <div class="logo">❤</div>
      <div>
        <h1>Love Tester — Seberapa Sempurna Hubungan?</h1>
        <p class="lead">Masukkan dua nama, lalu lihat skor cintanya 💞</p>
      </div>
    </div>

    <section>
      <label>Nama Pertama</label>
      <input id="nameA" type="text" placeholder="Contoh: Wiwi" />
      <label style="margin-top:10px;">Nama Kedua</label>
      <input id="nameB" type="text" placeholder="Contoh: Wowo" />
      <div style="margin-top:14px;display:flex;gap:10px;">
        <button id="testBtn" class="btn">Tes Cinta</button>
        <button id="clearBtn" class="ghost">Reset</button>
      </div>
    </section>

    <aside class="side">
      <div style="font-size:14px;color:#aaa;">Hasil:</div>
      <div id="namesDisplay" style="font-weight:700">—</div>
      <div class="percent" id="percent">0%</div>
      <div id="rankLabel" style="font-size:14px;color:#aaa;">—</div>
      <div class="meter"><i id="meterFill"></i></div>
      <div id="flair" style="font-size:15px;color:#aaa;">Masukkan dua nama dulu ya 💬</div>
    </aside>

    <footer class="note">Hanya untuk hiburan. Nikmati dengan senyum 😊</footer>
  </main>

  <script>
    // ------------------------
    // Confetti animation (for 100%)
    // ------------------------
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');
    let confettiPieces = [];
    function resizeCanvas(){
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function createConfetti(){
      confettiPieces = Array.from({length:150}, () => ({
        x: Math.random()*confettiCanvas.width,
        y: Math.random()*confettiCanvas.height - confettiCanvas.height,
        r: Math.random()*6 + 2,
        d: Math.random()*0.9 + 0.3,
        color: `hsl(${Math.random()*360},100%,70%)`
      }));
    }
    function drawConfetti(){
      ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
      confettiPieces.forEach(p=>{
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        ctx.fillStyle=p.color;
        ctx.fill();
      });
      updateConfetti();
      requestAnimationFrame(drawConfetti);
    }
    function updateConfetti(){
      confettiPieces.forEach(p=>{
        p.y += p.d*4;
        if(p.y > confettiCanvas.height){
          p.y = -10;
          p.x = Math.random()*confettiCanvas.width;
        }
      });
    }
    function startConfetti(){
      createConfetti();
      setTimeout(()=>confettiPieces=[],5000);
    }

    // ------------------------
    // Love Tester Logic
    // ------------------------
    function clean(s){
      return String(s || '').trim().toLowerCase();
    }

    function nameHash(a,b){
      const s = clean(a) + '|' + clean(b);
      let h = 5381;
      for(let i=0;i<s.length;i++){
        h=((h<<5)+h)^s.charCodeAt(i);
      }
      return h>>>0;
    }

    function scoreFromHash(h){
      const a=1664525,c=1013904223;
      return ((a*h+c)>>>0)%101;
    }

    function rankFor(p){
      if(p>=999) return{label:'Cuman Teman', flair:'Hafidz Suka Adel Tapi Adel Gak Suka Hafidz', cls:'high'};
      if(p>=95) return {label:'Sempurna', flair:'Cinta abadi 💖', cls:'high'};
      if(p>=80) return {label:'Sangat Cocok', flair:'Koneksi kuat 🌟', cls:'high'};
      if(p>=60) return {label:'Cocok', flair:'Ada chemistry 😊', cls:'mid'};
      if(p>=40) return {label:'Biasa', flair:'Mesti usaha lagi 🤝', cls:'mid'};
      return {label:'Kurang Cocok', flair:'Butuh kerja keras 💪', cls:'low'};
    }

    const nameA=document.getElementById('nameA');
    const nameB=document.getElementById('nameB');
    const testBtn=document.getElementById('testBtn');
    const clearBtn=document.getElementById('clearBtn');
    const percentEl=document.getElementById('percent');
    const meterFill=document.getElementById('meterFill');
    const namesDisplay=document.getElementById('namesDisplay');
    const flair=document.getElementById('flair');
    const rankLabel=document.getElementById('rankLabel');

    function runTest(a,b){
      if(!a||!b){
        flair.textContent='Masukkan dua nama dulu 💬';
        return;
      }

      const ca=clean(a), cb=clean(b);
      const special=[
        ['syifa','syatir'],
        ['syatir','syifa'],
        ['aca','naura'],
        ['naura','aca'],
        ['sahla','azka'],
        ['azka','sahla'],
        ['afika','hilmi'],
        ['hilmi','afika'],
        ['gavin','kanaya'],
        ['kanaya','gavin'],
        ['alita','rakha'],
        ['rakha','alita'],
        ['dzaki','kirana'],
        ['kirana','dzaki'],
      ];
      const superspecial=[
        ['hafidz','adel'],
        ['adel','hafidz'],
      ];
      const notspecial=[
        ['alita','gio'],
        ['gio','alita'],
      ];
      let p=0;
      if(special.some(s=> (s[0]===ca && s[1]===cb) || (s[1]===ca && s[0]===cb))){
        p=100;
      } else {
        const h=nameHash(a,b);
        p=scoreFromHash(h);
      }
      if(notspecial.some(s=> (s[0]===ca && s[1]===cb) || (s[1]===ca && s[0]===cb))){
        p=0;
      } else {
        const h=nameHash(a,b);
        p=scoreFromHash(h);
      }
      if(superspecial.some(s=> (s[0]===ca && s[1]===cb) || (s[1]===ca && s[0]===cb))){
        p=1000;
      } else {
        const h=nameHash(a,b);
        p=scoreFromHash(h);

      const r=rankFor(p);
      namesDisplay.textContent=`${a.trim()} ❤ ${b.trim()}`;
      percentEl.textContent=p+'%';
      percentEl.className='percent '+r.cls;
      rankLabel.textContent=r.label;
      meterFill.style.width=p+'%';
      flair.textContent=p===100 ? 'Cinta sejati 💞' : r.flair;

      if(p===100){
        startConfetti();
      }
    }

    testBtn.onclick=()=> runTest(nameA.value,nameB.value);
    clearBtn.onclick=()=>{
      nameA.value=nameB.value='';
      percentEl.textContent='0%';
      meterFill.style.width='0%';
      namesDisplay.textContent='—';
      flair.textContent='Masukkan dua nama dulu 💬';
      rankLabel.textContent='—';
    };

    drawConfetti();
  </script>
</body>
</html>
